# Queries for an educational platform

# Get all users (Admin only)
query ListUsers @auth(level: NO_ACCESS) {
  users {
    id
    username
    email
  }
}

# Get a specific user by ID (User or Admin)
query GetUser($id: String!) @auth(level: USER) {
  user(id: $id) {
    id
    username
    email
  }
}

# Get all subjects (Public)
query ListSubjects @auth(level: PUBLIC) {
  subjects {
    id
    name
    description
  }
}

# Get all videos for a specific subject (Public)
query ListVideosBySubject($subjectId: UUID!) @auth(level: PUBLIC) {
  videos(where: { subject: { id: { eq: $subjectId } } }) {
    id
    title
    url
  }
}

# Schema for an educational platform

# User table - keyed by Firebase Auth UID
type User @table {
  id: String! @default(expr: "auth.uid")
  username: String! @col(dataType: "varchar(50)")
  email: String @col(dataType: "varchar(255)")
}

# Subject table - keyed by UUID
type Subject @table {
  id: UUID! @default(expr: "uuidV4()")
  name: String!
  description: String
}

# Video table - keyed by UUID
type Video @table {
  id: UUID! @default(expr: "uuidV4()")
  title: String!
  description: String
  url: String!
  subject: Subject!
}

# UserSubject table - Many-to-many join table
type UserSubject @table(key: ["user", "subject"]) {
  user: User!
  subject: Subject!
}

